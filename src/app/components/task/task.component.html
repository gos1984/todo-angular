<div class="card">
  <div class="card-header card-header-warning">
    <h4 class="card-title">Список задач</h4>
  </div>
  <div class="card-body table-responsive">
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
      <ng-container matColumnDef="color">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let task" [style.background-color]="getPriorityColor(task)"></td>
      </ng-container>
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let task" class="center col-id">{{ task.id }}</td>
      </ng-container>
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let task" class="col-name">{{ task.name }}</td>
      </ng-container>
      <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Priority</th>
        <td mat-cell *matCellDef="let task" class="center col-pririty">{{ task.priority?.name }}</td>
      </ng-container>
      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
        <td mat-cell *matCellDef="let task" class="center col-category">{{ task.category?.name }}</td>
      </ng-container>
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
        <td mat-cell *matCellDef="let task" class="center col-date">{{ task.date | date: 'medium' }}</td>
      </ng-container>
      <ng-container matColumnDef="completed">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Completed</th>
        <td mat-cell *matCellDef="let task" class="center col-complete">
          <mat-checkbox (change)="toggleTaskCompleted(task)"
                        [checked]="task.completed">
          </mat-checkbox>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns : displayedColumns; let task" [class.completed]="task.completed === true"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[10, 20, 50, 100]" showFirstLastButtons></mat-paginator>
<!--    <table class="table table-hover">-->
<!--      <thead class="text-warning">-->
<!--      <th>ID</th>-->
<!--      <th>Наименование</th>-->
<!--      <th>Категория</th>-->
<!--      <th>Приоритет</th>-->
<!--      <th>Дата</th>-->
<!--      <th>Статус</th>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr *ngFor="let task of taskList" [class.complete]="task.completed === true">-->
<!--        <td>{{ task.id }}</td>-->
<!--        <td>{{ task.name }}</td>-->
<!--        <td>{{ task.category?.name }}</td>-->
<!--        <td>{{ task.priority?.name }}</td>-->
<!--        <td>{{ task.date | date : 'medium'}}</td>-->
<!--        <td>-->
<!--          <div class="form-check">-->
<!--            <label class="form-check-label">-->
<!--              <input class="form-check-input" type="checkbox" value=""-->
<!--                     [checked]="task.completed"-->
<!--                     (click)="toggleTaskCompleted(task)">-->
<!--              <span class="form-check-sign">-->
<!--                 <span class="check"></span>-->
<!--              </span>-->
<!--            </label>-->
<!--          </div>-->
<!--        </td>-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </table>-->
  </div>
</div>
